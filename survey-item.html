<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../show-once/show-once.html">
<!--
`<survey-item style="display:block" survey="{{item}}"></survey-item>`
-->
<dom-module id="survey-item">
  <template>
    <template is="dom-if" if="{{!index}}">
      <template is="dom-if" if="{{q}}">
        <show-once message="{{q}}" link="" link-text=""></show-once>
      </template>
    </template>
    <template is="dom-if" if="{{edit}}">
      <paper-input value="{{survey.question::change}}" label="Question"></paper-input>
    </template>
    <template is="dom-if" if="{{!edit}}">
      Q:<b>{{survey.question}}</b>
    </template>
    <template is="dom-if" if="{{answer}}">
      <paper-button on-tap="yes">Yes</paper-button>
      <paper-button on-tap="no">No</paper-button>
    </template>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'survey-item',
    _onDelete: function() {
      this.fire('delete-survey-question', {survey: this.survey});
    },
    yes: function() {
      this.set("survey.answer", "Yes")
      this.set("survey.isComplete", true)
    },
    no: function() {
      this.set("survey.answer", "No")
      this.set("survey.isComplete", true)
    },
    properties: {
      survey: {notify:true},
      q: {computed:'getQ(survey.question)'}
    },
    getQ: function(question) {
      
      return "Q:<b>"+question+"</b><paper-button on-tap=\"alert(\'hi\')\">Yes</paper-button><paper-button on-tap=\"no\">No</paper-button>"
    }
  });
</script>
